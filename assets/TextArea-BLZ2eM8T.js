import{J as f,r as s,h as R,a4 as he,D as K,_ as Se,y as F,F as be,P as Pe,A as te,a7 as Ce,a3 as we,i as De,l as He,m as Be,f as Le,aL as We,aM as ke,aw as Ge,aG as Ke,V as Ye}from"./index-DNKwSigP.js";import{b as Ee,R as Ze}from"./roundedArrow-lmzeC9YX.js";import{d as Xe,i as qe,u as Je,f as Ue,h as Qe}from"./index-5mpMU4X_.js";import{u as et}from"./useVariants-DGRfSi4p.js";function tt(e){return!!(e.addonBefore||e.addonAfter)}function at(e){return!!(e.prefix||e.suffix||e.allowClear)}function Re(e,t,n){var a=t.cloneNode(!0),r=Object.create(e,{target:{value:a},currentTarget:{value:a}});return a.value=n,typeof t.selectionStart=="number"&&typeof t.selectionEnd=="number"&&(a.selectionStart=t.selectionStart,a.selectionEnd=t.selectionEnd),a.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},r}function ze(e,t,n,a){if(n){var r=t;if(t.type==="click"){r=Re(t,e,""),n(r);return}if(e.type!=="file"&&a!==void 0){r=Re(t,e,a),n(r);return}n(r)}}function nt(e,t){if(e){e.focus(t);var n=t||{},a=n.cursor;if(a){var r=e.value.length;switch(a){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}var rt=f.forwardRef(function(e,t){var n,a,r,v=e.inputElement,i=e.children,u=e.prefixCls,C=e.prefix,c=e.suffix,p=e.addonBefore,A=e.addonAfter,z=e.className,P=e.style,x=e.disabled,Y=e.readOnly,ae=e.focused,Z=e.triggerFocus,d=e.allowClear,V=e.value,X=e.handleReset,w=e.hidden,m=e.classes,o=e.classNames,q=e.dataAttrs,E=e.styles,h=e.components,I=e.onClear,j=i??v,ne=(h==null?void 0:h.affixWrapper)||"span",D=(h==null?void 0:h.groupWrapper)||"span",g=(h==null?void 0:h.wrapper)||"span",H=(h==null?void 0:h.groupAddon)||"span",B=s.useRef(null),L=function(re){var T;(T=B.current)!==null&&T!==void 0&&T.contains(re.target)&&(Z==null||Z())},J=at(e),O=s.cloneElement(j,{value:V,className:R((n=j.props)===null||n===void 0?void 0:n.className,!J&&(o==null?void 0:o.variant))||null}),U=s.useRef(null);if(f.useImperativeHandle(t,function(){return{nativeElement:U.current||B.current}}),J){var M=null;if(d){var y=!x&&!Y&&V,S="".concat(u,"-clear-icon"),Q=he(d)==="object"&&d!==null&&d!==void 0&&d.clearIcon?d.clearIcon:"âœ–";M=f.createElement("button",{type:"button",tabIndex:-1,onClick:function(re){X==null||X(re),I==null||I()},onMouseDown:function(re){return re.preventDefault()},className:R(S,K(K({},"".concat(S,"-hidden"),!y),"".concat(S,"-has-suffix"),!!c))},Q)}var W="".concat(u,"-affix-wrapper"),k=R(W,K(K(K(K(K({},"".concat(u,"-disabled"),x),"".concat(W,"-disabled"),x),"".concat(W,"-focused"),ae),"".concat(W,"-readonly"),Y),"".concat(W,"-input-with-clear-btn"),c&&d&&V),m==null?void 0:m.affixWrapper,o==null?void 0:o.affixWrapper,o==null?void 0:o.variant),N=(c||d)&&f.createElement("span",{className:R("".concat(u,"-suffix"),o==null?void 0:o.suffix),style:E==null?void 0:E.suffix},M,c);O=f.createElement(ne,Se({className:k,style:E==null?void 0:E.affixWrapper,onClick:L},q==null?void 0:q.affixWrapper,{ref:B}),C&&f.createElement("span",{className:R("".concat(u,"-prefix"),o==null?void 0:o.prefix),style:E==null?void 0:E.prefix},C),O,N)}if(tt(e)){var G="".concat(u,"-group"),$="".concat(G,"-addon"),ie="".concat(G,"-wrapper"),de=R("".concat(u,"-wrapper"),G,m==null?void 0:m.wrapper,o==null?void 0:o.wrapper),ue=R(ie,K({},"".concat(ie,"-disabled"),x),m==null?void 0:m.group,o==null?void 0:o.groupWrapper);O=f.createElement(D,{className:ue,ref:U},f.createElement(g,{className:de},p&&f.createElement(H,{className:$},p),O,A&&f.createElement(H,{className:$},A)))}return f.cloneElement(O,{className:R((a=O.props)===null||a===void 0?void 0:a.className,z)||null,style:F(F({},(r=O.props)===null||r===void 0?void 0:r.style),P),hidden:w})}),ot=["show"];function it(e,t){return s.useMemo(function(){var n={};t&&(n.show=he(t)==="object"&&t.formatter?t.formatter:!!t),n=F(F({},n),e);var a=n,r=a.show,v=be(a,ot);return F(F({},v),{},{show:!!r,showFormatter:typeof r=="function"?r:void 0,strategy:v.strategy||function(i){return i.length}})},[e,t])}const lt=e=>{let t;return typeof e=="object"&&(e!=null&&e.clearIcon)?t=e:e&&(t={clearIcon:f.createElement(Pe,null)}),t};var st=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,ut=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],me={},_;function ct(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&me[n])return me[n];var a=window.getComputedStyle(e),r=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),v=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),i=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),u=ut.map(function(c){return"".concat(c,":").concat(a.getPropertyValue(c))}).join(";"),C={sizingStyle:u,paddingSize:v,borderSize:i,boxSizing:r};return t&&n&&(me[n]=C),C}function dt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;_||(_=document.createElement("textarea"),_.setAttribute("tab-index","-1"),_.setAttribute("aria-hidden","true"),_.setAttribute("name","hiddenTextarea"),document.body.appendChild(_)),e.getAttribute("wrap")?_.setAttribute("wrap",e.getAttribute("wrap")):_.removeAttribute("wrap");var r=ct(e,t),v=r.paddingSize,i=r.borderSize,u=r.boxSizing,C=r.sizingStyle;_.setAttribute("style","".concat(C,";").concat(st)),_.value=e.value||e.placeholder||"";var c=void 0,p=void 0,A,z=_.scrollHeight;if(u==="border-box"?z+=i:u==="content-box"&&(z-=v),n!==null||a!==null){_.value=" ";var P=_.scrollHeight-v;n!==null&&(c=P*n,u==="border-box"&&(c=c+v+i),z=Math.max(c,z)),a!==null&&(p=P*a,u==="border-box"&&(p=p+v+i),A=z>p?"":"hidden",z=Math.min(p,z))}var x={height:z,overflowY:A,resize:"none"};return c&&(x.minHeight=c),p&&(x.maxHeight=p),x}var ft=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],ge=0,pe=1,xe=2,vt=s.forwardRef(function(e,t){var n=e,a=n.prefixCls,r=n.defaultValue,v=n.value,i=n.autoSize,u=n.onResize,C=n.className,c=n.style,p=n.disabled,A=n.onChange;n.onInternalAutoSize;var z=be(n,ft),P=Ee(r,{value:v,postState:function(S){return S??""}}),x=te(P,2),Y=x[0],ae=x[1],Z=function(S){ae(S.target.value),A==null||A(S)},d=s.useRef();s.useImperativeHandle(t,function(){return{textArea:d.current}});var V=s.useMemo(function(){return i&&he(i)==="object"?[i.minRows,i.maxRows]:[]},[i]),X=te(V,2),w=X[0],m=X[1],o=!!i,q=function(){try{if(document.activeElement===d.current){var S=d.current,Q=S.selectionStart,W=S.selectionEnd,k=S.scrollTop;d.current.setSelectionRange(Q,W),d.current.scrollTop=k}}catch{}},E=s.useState(xe),h=te(E,2),I=h[0],j=h[1],ne=s.useState(),D=te(ne,2),g=D[0],H=D[1],B=function(){j(ge)};Ce(function(){o&&B()},[v,w,m,o]),Ce(function(){if(I===ge)j(pe);else if(I===pe){var y=dt(d.current,!1,w,m);j(xe),H(y)}else q()},[I]);var L=s.useRef(),J=function(){we.cancel(L.current)},O=function(S){I===xe&&(u==null||u(S),i&&(J(),L.current=we(function(){B()})))};s.useEffect(function(){return J},[]);var U=o?g:null,M=F(F({},c),U);return(I===ge||I===pe)&&(M.overflowY="hidden",M.overflowX="hidden"),s.createElement(Ze,{onResize:O,disabled:!(i||u)},s.createElement("textarea",Se({},z,{ref:d,style:M,className:R(a,C,K({},"".concat(a,"-disabled"),p)),disabled:p,value:Y,onChange:Z})))}),mt=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],gt=f.forwardRef(function(e,t){var n,a=e.defaultValue,r=e.value,v=e.onFocus,i=e.onBlur,u=e.onChange,C=e.allowClear,c=e.maxLength,p=e.onCompositionStart,A=e.onCompositionEnd,z=e.suffix,P=e.prefixCls,x=P===void 0?"rc-textarea":P,Y=e.showCount,ae=e.count,Z=e.className,d=e.style,V=e.disabled,X=e.hidden,w=e.classNames,m=e.styles,o=e.onResize,q=e.onClear,E=e.onPressEnter,h=e.readOnly,I=e.autoSize,j=e.onKeyDown,ne=be(e,mt),D=Ee(a,{value:r,defaultValue:a}),g=te(D,2),H=g[0],B=g[1],L=H==null?"":String(H),J=f.useState(!1),O=te(J,2),U=O[0],M=O[1],y=f.useRef(!1),S=f.useState(null),Q=te(S,2),W=Q[0],k=Q[1],N=s.useRef(null),G=s.useRef(null),$=function(){var l;return(l=G.current)===null||l===void 0?void 0:l.textArea},ie=function(){$().focus()};s.useImperativeHandle(t,function(){var b;return{resizableTextArea:G.current,focus:ie,blur:function(){$().blur()},nativeElement:((b=N.current)===null||b===void 0?void 0:b.nativeElement)||$()}}),s.useEffect(function(){M(function(b){return!V&&b})},[V]);var de=f.useState(null),ue=te(de,2),oe=ue[0],re=ue[1];f.useEffect(function(){if(oe){var b;(b=$()).setSelectionRange.apply(b,De(oe))}},[oe]);var T=it(ae,Y),le=(n=T.max)!==null&&n!==void 0?n:c,Ae=Number(le)>0,fe=T.strategy(L),Ie=!!le&&fe>le,ye=function(l,ee){var ce=ee;!y.current&&T.exceedFormatter&&T.max&&T.strategy(ee)>T.max&&(ce=T.exceedFormatter(ee,{max:T.max}),ee!==ce&&re([$().selectionStart||0,$().selectionEnd||0])),B(ce),ze(l.currentTarget,l,u,ce)},Ne=function(l){y.current=!0,p==null||p(l)},$e=function(l){y.current=!1,ye(l,l.currentTarget.value),A==null||A(l)},Te=function(l){ye(l,l.target.value)},Oe=function(l){l.key==="Enter"&&E&&E(l),j==null||j(l)},Fe=function(l){M(!0),v==null||v(l)},_e=function(l){M(!1),i==null||i(l)},Ve=function(l){B(""),ie(),ze($(),l,u)},ve=z,se;T.show&&(T.showFormatter?se=T.showFormatter({value:L,count:fe,maxLength:le}):se="".concat(fe).concat(Ae?" / ".concat(le):""),ve=f.createElement(f.Fragment,null,ve,f.createElement("span",{className:R("".concat(x,"-data-count"),w==null?void 0:w.count),style:m==null?void 0:m.count},se)));var je=function(l){var ee;o==null||o(l),(ee=$())!==null&&ee!==void 0&&ee.style.height&&k(!0)},Me=!I&&!Y&&!C;return f.createElement(rt,{ref:N,value:L,allowClear:C,handleReset:Ve,suffix:ve,prefixCls:x,classNames:F(F({},w),{},{affixWrapper:R(w==null?void 0:w.affixWrapper,K(K({},"".concat(x,"-show-count"),Y),"".concat(x,"-textarea-allow-clear"),C))}),disabled:V,focused:U,className:R(Z,Ie&&"".concat(x,"-out-of-range")),style:F(F({},d),W&&!Me?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof se=="string"?se:void 0}},hidden:X,readOnly:h,onClear:q},f.createElement(vt,Se({},ne,{autoSize:I,maxLength:c,onKeyDown:Oe,onChange:Te,onFocus:Fe,onBlur:_e,onCompositionStart:Ne,onCompositionEnd:$e,className:R(w==null?void 0:w.textarea),style:F(F({},m==null?void 0:m.textarea),{},{resize:d==null?void 0:d.resize}),disabled:V,prefixCls:x,onResize:je,ref:G,readOnly:h})))});const pt=e=>{const{componentCls:t,paddingLG:n}=e,a=`${t}-textarea`;return{[a]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${t},
        &-affix-wrapper${a}-has-feedback ${t}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${a}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}},xt=He(["Input","TextArea"],e=>{const t=Be(e,Xe(e));return[pt(t)]},qe,{resetFont:!1});var ht=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const wt=s.forwardRef((e,t)=>{var n;const{prefixCls:a,bordered:r=!0,size:v,disabled:i,status:u,allowClear:C,classNames:c,rootClassName:p,className:A,style:z,styles:P,variant:x}=e,Y=ht(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:ae,direction:Z,allowClear:d,autoComplete:V,className:X,style:w,classNames:m,styles:o}=Le("textArea"),q=s.useContext(We),E=i??q,{status:h,hasFeedback:I,feedbackIcon:j}=s.useContext(ke),ne=Qe(h,u),D=s.useRef(null);s.useImperativeHandle(t,()=>{var k;return{resizableTextArea:(k=D.current)===null||k===void 0?void 0:k.resizableTextArea,focus:N=>{var G,$;nt(($=(G=D.current)===null||G===void 0?void 0:G.resizableTextArea)===null||$===void 0?void 0:$.textArea,N)},blur:()=>{var N;return(N=D.current)===null||N===void 0?void 0:N.blur()}}});const g=ae("input",a),H=Ge(g),[B,L,J]=Je(g,p),[O]=xt(g,H),{compactSize:U,compactItemClassnames:M}=Ke(g,Z),y=Ye(k=>{var N;return(N=v??U)!==null&&N!==void 0?N:k}),[S,Q]=et("textArea",x,r),W=lt(C??d);return B(O(s.createElement(gt,Object.assign({autoComplete:V},Y,{style:Object.assign(Object.assign({},w),z),styles:Object.assign(Object.assign({},o),P),disabled:E,allowClear:W,className:R(J,H,A,p,M,X),classNames:Object.assign(Object.assign(Object.assign({},c),m),{textarea:R({[`${g}-sm`]:y==="small",[`${g}-lg`]:y==="large"},L,c==null?void 0:c.textarea,m.textarea),variant:R({[`${g}-${S}`]:Q},Ue(g,ne)),affixWrapper:R(`${g}-textarea-affix-wrapper`,{[`${g}-affix-wrapper-rtl`]:Z==="rtl",[`${g}-affix-wrapper-sm`]:y==="small",[`${g}-affix-wrapper-lg`]:y==="large",[`${g}-textarea-show-count`]:e.showCount||((n=e.count)===null||n===void 0?void 0:n.show)},L)}),prefixCls:g,suffix:I&&s.createElement("span",{className:`${g}-textarea-suffix`},j),ref:D}))))});export{rt as B,wt as T,lt as g,ze as r,nt as t,it as u};
