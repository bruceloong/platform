import{r as l,j as e,B as s,X as b,L as d}from"./index-CVvmjeEA.js";import{F as n}from"./index-DragT92t.js";import{C as R}from"./index-B0oa_COk.js";import{I as w}from"./index-BHSxPz8q.js";import{R as C}from"./SearchOutlined-Dm1npqh1.js";import{S as j}from"./index-WrFtDlwX.js";import{S as f}from"./index-ClqAjj3M.js";import{R as v}from"./ReloadOutlined-BjjW7Ifu.js";import{F as D}from"./Table-BDdq_jgn.js";import{T as F}from"./index-D6fMBZ1s.js";import{R as A}from"./EditOutlined-CRv0jD4x.js";import{P as z}from"./index-CF8-Qrkk.js";import{R as B}from"./DeleteOutlined-CIn2YWnz.js";import"./collapse-BbEVqHco.js";import"./row-CSsVDT-c.js";import"./roundedArrow-Sv4qF1M1.js";import"./index-DVfvNWzl.js";import"./EllipsisOutlined-s8YjcG2E.js";import"./useVariants-DBDSD-SJ.js";import"./index-DppUYI3Q.js";import"./TextArea-C-1E40xJ.js";import"./PurePanel-CKU-CKfA.js";import"./useIcons-DBPDwa0t.js";import"./DownOutlined-C010dmO0.js";import"./styleChecker-C4ah6wGg.js";import"./index-C8bU8yRg.js";import"./useBubbleLock-DAqvF0N4.js";import"./index-5aDbwc7A.js";import"./LeftOutlined-OLsymj45.js";import"./RightOutlined-BrREPCSM.js";import"./Sider-Wc_MSAUN.js";import"./index-DW3YOSYr.js";import"./Pagination-9EqZDy_N.js";import"./index-hgLlXZN8.js";const{Option:m}=j,ue=()=>{const[p]=n.useForm(),[g,x]=l.useState(!1),[u,h]=l.useState([]),[a,c]=l.useState({current:1,pageSize:10,total:0}),i=async(r={})=>{try{x(!0);const t=await b.getTableData({current:a.current,pageSize:a.pageSize,...r});t.success&&(h(t.data.list),c({...a,current:t.data.pagination.current,total:t.data.pagination.total||0}))}catch(t){console.error("获取表格数据失败:",t),d.error("获取表格数据失败")}finally{x(!1)}};l.useEffect(()=>{i()},[]);const y=r=>{c(r),i()},I=r=>{c({...a,current:1}),i(r)},k=()=>{p.resetFields(),c({...a,current:1}),i()},S=async r=>{try{setTimeout(()=>{d.success("删除成功"),h(u.filter(t=>t.id!==r))},500)}catch(t){console.error("删除失败:",t),d.error("删除失败")}},T=[{title:"ID",dataIndex:"id",key:"id",width:80},{title:"名称",dataIndex:"name",key:"name"},{title:"年龄",dataIndex:"age",key:"age",sorter:(r,t)=>r.age-t.age},{title:"地址",dataIndex:"address",key:"address"},{title:"状态",dataIndex:"status",key:"status",render:r=>{let t="default",o="未知";switch(r){case"active":t="success",o="活跃";break;case"inactive":t="default",o="不活跃";break;case"pending":t="processing",o="待处理";break;case"error":t="error",o="错误";break}return e.jsx(F,{color:t,children:o})}},{title:"创建时间",dataIndex:"createdAt",key:"createdAt",sorter:(r,t)=>new Date(r.createdAt).getTime()-new Date(t.createdAt).getTime()},{title:"操作",key:"action",render:(r,t)=>e.jsxs(f,{size:"middle",children:[e.jsx(s,{type:"text",icon:e.jsx(A,{}),onClick:()=>d.info(`编辑 ID: ${t.id}`),children:"编辑"}),e.jsx(z,{title:"确定要删除此项吗?",onConfirm:()=>S(t.id),okText:"确定",cancelText:"取消",children:e.jsx(s,{type:"text",danger:!0,icon:e.jsx(B,{}),children:"删除"})})]})}];return e.jsxs(R,{title:"基础表格",children:[e.jsxs(n,{form:p,layout:"inline",onFinish:I,style:{marginBottom:"24px"},children:[e.jsx(n.Item,{name:"name",children:e.jsx(w,{placeholder:"搜索名称",prefix:e.jsx(C,{})})}),e.jsx(n.Item,{name:"status",children:e.jsxs(j,{placeholder:"选择状态",style:{width:120},allowClear:!0,children:[e.jsx(m,{value:"active",children:"活跃"}),e.jsx(m,{value:"inactive",children:"不活跃"}),e.jsx(m,{value:"pending",children:"待处理"}),e.jsx(m,{value:"error",children:"错误"})]})}),e.jsx(n.Item,{children:e.jsxs(f,{children:[e.jsx(s,{type:"primary",htmlType:"submit",children:"搜索"}),e.jsx(s,{onClick:k,children:"重置"}),e.jsx(s,{icon:e.jsx(v,{}),onClick:()=>i(),children:"刷新"})]})})]}),e.jsx(D,{columns:T,rowKey:"id",dataSource:u,pagination:a,loading:g,onChange:y})]})};export{ue as default};
