import{r as l,j as e,B as s,X as b,L as d}from"./index-CbcJRL3k.js";import{F as n}from"./index-DzUoQKQC.js";import{C as R}from"./index-yT7z0R9N.js";import{I as w}from"./index-C1q38Ntb.js";import{R as C}from"./SearchOutlined-CAodkCHB.js";import{S as j}from"./index-CQWGyHIi.js";import{S as f}from"./index-CPCu-Awr.js";import{R as v}from"./ReloadOutlined-DK9FAspz.js";import{F as D}from"./Table-C6DX0CPc.js";import{T as F}from"./index-DPIr4DBV.js";import{R as A}from"./EditOutlined-ZsrA_iia.js";import{P as z}from"./index-CSGmYRTD.js";import{R as B}from"./DeleteOutlined-D9_VD5Rq.js";import"./collapse-BbEVqHco.js";import"./row-oqDN9NaK.js";import"./roundedArrow-ZXwI2xFQ.js";import"./index-BKzotca0.js";import"./EllipsisOutlined-Dh0XXIS3.js";import"./useVariants-DE2B2smb.js";import"./index-BqCjM9dL.js";import"./TextArea-BLJSUrB-.js";import"./PurePanel-3I4INXzI.js";import"./useIcons-DeF26C09.js";import"./DownOutlined-DkPoV1du.js";import"./styleChecker-wZ6_H3ZI.js";import"./index-w_CIewc6.js";import"./useBubbleLock-DGQtOuMD.js";import"./index-DO-dhtUz.js";import"./LeftOutlined-BtNA29Ex.js";import"./RightOutlined-BLpIbDbF.js";import"./Sider-DqSHZATv.js";import"./index-BWjuplgR.js";import"./Pagination-1VEaDFmM.js";import"./index-CeTWp4GU.js";const{Option:m}=j,ue=()=>{const[p]=n.useForm(),[g,x]=l.useState(!1),[u,h]=l.useState([]),[a,c]=l.useState({current:1,pageSize:10,total:0}),i=async(r={})=>{try{x(!0);const t=await b.getTableData({current:a.current,pageSize:a.pageSize,...r});t.success&&(h(t.data.list),c({...a,current:t.data.pagination.current,total:t.data.pagination.total||0}))}catch(t){console.error("获取表格数据失败:",t),d.error("获取表格数据失败")}finally{x(!1)}};l.useEffect(()=>{i()},[]);const y=r=>{c(r),i()},I=r=>{c({...a,current:1}),i(r)},k=()=>{p.resetFields(),c({...a,current:1}),i()},S=async r=>{try{setTimeout(()=>{d.success("删除成功"),h(u.filter(t=>t.id!==r))},500)}catch(t){console.error("删除失败:",t),d.error("删除失败")}},T=[{title:"ID",dataIndex:"id",key:"id",width:80},{title:"名称",dataIndex:"name",key:"name"},{title:"年龄",dataIndex:"age",key:"age",sorter:(r,t)=>r.age-t.age},{title:"地址",dataIndex:"address",key:"address"},{title:"状态",dataIndex:"status",key:"status",render:r=>{let t="default",o="未知";switch(r){case"active":t="success",o="活跃";break;case"inactive":t="default",o="不活跃";break;case"pending":t="processing",o="待处理";break;case"error":t="error",o="错误";break}return e.jsx(F,{color:t,children:o})}},{title:"创建时间",dataIndex:"createdAt",key:"createdAt",sorter:(r,t)=>new Date(r.createdAt).getTime()-new Date(t.createdAt).getTime()},{title:"操作",key:"action",render:(r,t)=>e.jsxs(f,{size:"middle",children:[e.jsx(s,{type:"text",icon:e.jsx(A,{}),onClick:()=>d.info(`编辑 ID: ${t.id}`),children:"编辑"}),e.jsx(z,{title:"确定要删除此项吗?",onConfirm:()=>S(t.id),okText:"确定",cancelText:"取消",children:e.jsx(s,{type:"text",danger:!0,icon:e.jsx(B,{}),children:"删除"})})]})}];return e.jsxs(R,{title:"基础表格",children:[e.jsxs(n,{form:p,layout:"inline",onFinish:I,style:{marginBottom:"24px"},children:[e.jsx(n.Item,{name:"name",children:e.jsx(w,{placeholder:"搜索名称",prefix:e.jsx(C,{})})}),e.jsx(n.Item,{name:"status",children:e.jsxs(j,{placeholder:"选择状态",style:{width:120},allowClear:!0,children:[e.jsx(m,{value:"active",children:"活跃"}),e.jsx(m,{value:"inactive",children:"不活跃"}),e.jsx(m,{value:"pending",children:"待处理"}),e.jsx(m,{value:"error",children:"错误"})]})}),e.jsx(n.Item,{children:e.jsxs(f,{children:[e.jsx(s,{type:"primary",htmlType:"submit",children:"搜索"}),e.jsx(s,{onClick:k,children:"重置"}),e.jsx(s,{icon:e.jsx(v,{}),onClick:()=>i(),children:"刷新"})]})})]}),e.jsx(D,{columns:T,rowKey:"id",dataSource:u,pagination:a,loading:g,onChange:y})]})};export{ue as default};
